{
  "permissions": {
    "allow": [
      "Bash(done)",
      "Bash(git remote set-url:*)",
      "Bash(ls:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd Related Repositories section linking ecosystem repos\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit:*)",
      "Bash(git config:*)",
      "Bash(git push:*)",
      "Bash(ssh:*)",
      "Bash(cat:*)",
      "Bash(ssh-keygen:*)",
      "Bash(git fetch:*)",
      "Bash(find:*)",
      "Bash(git init:*)",
      "Bash(git branch:*)",
      "Bash(gh repo create:*)",
      "Bash(git remote add:*)",
      "Bash(docker compose:*)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(curl:*)",
      "Bash(git tag:*)",
      "Bash(winget install:*)",
      "Bash(gh auth:*)",
      "Bash(where.exe:*)",
      "Bash(dir \"C:\\\\Program Files\\\\GitHub CLI\")",
      "Bash(dir \"C:\\\\Program Files \\(x86\\)\\\\GitHub CLI\")",
      "Bash(cmd.exe /c \"gh auth status\")",
      "Bash(/c/Program Files/GitHub CLI/gh.exe auth status)",
      "Bash(/c/Program Files \\\\\\(x86\\\\\\)/GitHub CLI/gh.exe auth status)",
      "Bash(openssl passwd:*)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.2.0 --title \"v1.2.0 - DHCP Default & Sysadmin User\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **DHCP enabled by default** - Network no longer prompts during install\n- **Default user changed** - Now `sysadmin` instead of `admin`\n- **Default password** - `NDGlabpass123!` \\(change via server-setup menu\\)\n\n## Upgrade\n\nRebuild your ISO with `./build.sh` to get the new defaults.\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.7.0 --title \"v1.7.0 - User Removal Option\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **User removal prompt** - When changing username in System Identity, you''re now asked if you want to remove the old user\n- Processes owned by old user are terminated before removal\n- Home directory is removed with the user\n\n## Upgrade\n\nPull the latest via the utility menu to get this feature.\nEOF\n\\)\")",
      "Bash(git rm:*)",
      "Bash(git checkout:*)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release delete v1.2.0 --yes)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.2.0 --title \"v1.2.0 - DHCP Default & Cloud-Init Fix\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **DHCP enabled by default** - Network no longer prompts during install\n- **Default user changed** - Now `sysadmin` instead of `admin`\n- **Default password** - `NDGlabpass123!` \\(change via server-setup menu\\)\n- **Fixed cloud-init crash** - Resolved autoinstall YAML parsing issues\n\n## Bug Fixes\n\n- Fixed network config using name-based matching \\(`en*`, `eth*`\\) instead of driver wildcard\n- Removed conflicting nested `user-data` block\n- Simplified late-commands to avoid heredoc indentation issues\n- Added `.gitattributes` for proper line endings in Docker builds\n\n## Upgrade\n\nRebuild your ISO with `./build.sh` to get the fixes.\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release delete v1.7.0 --yes)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.7.0 --repo profzeller/p16-server-setup --title \"v1.7.0 - User Removal Option\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **User removal prompt** - When changing username in System Identity, you''re now asked if you want to remove the old user\n- **Auto-elevate to root** - Script automatically uses sudo when needed\n- **Batch mode** - First-run setup skips press_enter prompts for faster install\n- **Display first** - Console font config runs first in full setup \\(readable on 4K displays\\)\n\n## Upgrade\n\nPull the latest via the utility menu to get this feature.\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.2.0 --repo profzeller/p16-iso-builder --title \"v1.2.0 - DHCP Default & 4K Display Support\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **DHCP enabled by default** - Network no longer prompts during install\n- **Default user** - Now `sysadmin` with password `NDGlabpass123!`\n- **1920x1080 installer mode** - Readable text on 4K displays \\(default option\\)\n- **4K Native option** - Available if you prefer native resolution\n\n## Bug Fixes\n\n- Fixed cloud-init crash with network config\n- Fixed heredoc indentation issues in late-commands\n- Added .gitattributes for proper line endings\n\n## Boot Menu Options\n\n1. **P16 GPU Server - Interactive Install** - 1920x1080 for readable text\n2. **P16 GPU Server - Interactive Install \\(4K Native\\)** - Full 4K resolution\n3. **P16 GPU Server - Expert Install** - Manual setup\n\n## Upgrade\n\nRebuild your ISO with `./build.sh` to get the fixes.\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.0.1 --title \"v1.0.1 - Fix pip install\" --notes \"$\\(cat <<''EOF''\n## Bug Fixes\n\n- Fixed pip install failures during Docker build\n- Upgraded pip/setuptools/wheel before installing packages\n- Let chatterbox-tts manage its own dependencies\n- Added build-essential for compilation support\n\n## Upgrade\n\nPull the latest and rebuild:\n```bash\ncd /opt/gpu-services/local-chatterbox-server\ngit pull\ndocker compose build --no-cache\ndocker compose up -d\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release delete v1.0.1 --yes)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.0.1 --title \"v1.0.1 - Fix pip install\" --notes \"$\\(cat <<''EOF''\n## Bug Fixes\n\n- Fixed pip install failures during Docker build\n- Upgraded pip/setuptools/wheel before installing packages\n- Let chatterbox-tts manage its own dependencies\n- Added build-essential for compilation support\n- Added pip retry \\(10x\\) and timeout \\(60s\\) for PyPI reliability\n\n## Upgrade\n\nPull the latest and rebuild:\n```bash\ncd /opt/gpu-services/local-chatterbox-server\ngit pull\ndocker compose build --no-cache\ndocker compose up -d\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.0.1 --title \"v1.0.1 - Fix Docker build\" --notes \"$\\(cat <<''EOF''\n## Bug Fixes\n\n- **Fixed torchvision/transformers conflict** - Upgrade torchvision before installing chatterbox-tts\n- Fixed pip install failures with retry \\(10x\\) and timeout \\(60s\\)\n- Added build-essential for compilation support\n- Model download now has fallback \\(downloads on first use if build fails\\)\n\n## Upgrade\n\nPull the latest and rebuild:\n```bash\ncd /opt/gpu-services/local-chatterbox-server\ngit pull\ndocker compose build --no-cache\ndocker compose up -d\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create:*)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.7.2 --repo profzeller/p16-server-setup --title \"v1.7.2 - Docker Logs Viewer Fix\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **Docker logs viewer improved** - No longer exits script on Ctrl+C\n- **Log view options** - Choose between:\n  - Static view \\(last 50 or 100 lines\\) - uses `less` for scrolling, press `q` to exit\n  - Follow mode - Ctrl+C now returns to menu instead of exiting script\n\n## Upgrade\n\nOn your server, run:\n```bash\nserver-setup\n# Select: Update server-setup\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release list --repo profzeller/local-chatterbox-server --limit 3)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.0.3 --repo profzeller/local-chatterbox-server --title \"v1.0.3 - Force PyTorch reinstall with pinned versions\" --notes \"$\\(cat <<''EOF''\n## Bug Fixes\n\n- **Force reinstall PyTorch stack** - Uses `--force-reinstall` to override conda packages from base image\n- **Pinned exact versions** - torch==2.4.0, torchvision==0.19.0, torchaudio==2.4.0\n- These versions are tested to be compatible with each other and CUDA 12.4\n\n## Root Cause\n\nThe base Docker image \\(`pytorch/pytorch:2.4.0-cuda12.4-cudnn9-runtime`\\) installs PyTorch via conda. Regular pip install doesn''t properly override conda packages, causing version mismatches.\n\n## Upgrade\n\nOn your server:\n```bash\nserver-setup\n# Select: GPU Services â†’ Chatterbox â†’ Update\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.0.5 --repo profzeller/local-chatterbox-server --title \"v1.0.5 - Fix transformers/torchvision conflict\" --notes \"$\\(cat <<''EOF''\n## Bug Fixes\n\n- **Upgraded to PyTorch 2.5.1** - Latest stable with torchvision 0.20.1\n- **Pinned transformers<4.46.0** - Newer versions import torchvision in a way that triggers the nms operator error\n\n## What Was Happening\n\nRecent versions of `transformers` import `torchvision` during model loading, which triggers torchvision''s internal operator registration. There''s a known compatibility issue that causes `operator torchvision::nms does not exist`.\n\n## Upgrade\n\nOn your server:\n```bash\nserver-setup\n# Select: GPU Services â†’ Chatterbox â†’ Update\n```\nEOF\n\\)\")",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.0.6 --repo profzeller/local-chatterbox-server --title \"v1.0.6 - Use working RunPod config\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **New base image**: `runpod/pytorch:2.4.0-py3.11-cuda12.4.1-devel-ubuntu22.04`\n- **Install chatterbox-tts with `--no-deps`** - avoids automatic dependency resolution\n- **Manually install only needed deps** - matches working chatterbox-wellness-worker config\n\n## Why This Works\n\nBased on your working RunPod serverless worker. The key is:\n1. Using the devel image \\(has full CUDA libraries\\)\n2. Not letting pip auto-resolve chatterbox-tts dependencies\n3. Manually installing only what''s needed\n\n## Upgrade\n\n```bash\nserver-setup\n# Select: GPU Services â†’ Chatterbox â†’ Update\n```\nEOF\n\\)\")",
      "WebSearch",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.1.0 --repo profzeller/local-video-server --title \"v1.1.0 - Wan2.2 with configurable models\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **Upgraded to Wan2.2-T2V-A14B** - Latest text-to-video model\n- **Configurable models** - Set MODEL_ID env var in docker-compose.yml\n- **New /models endpoint** - Lists available models\n- **Better memory optimization** - Sequential CPU offload for 16GB VRAM + 128GB RAM\n- **Using bfloat16** - Better quality on modern GPUs\n\n## Available Models\n\n| Model | Type | Notes |\n|-------|------|-------|\n| Wan-AI/Wan2.2-T2V-A14B | Text-to-Video | Default, 14B params |\n| Wan-AI/Wan2.2-I2V-A14B | Image-to-Video | Animate images |\n| Wan-AI/Wan2.2-TI2V-5B | Both | Smaller 5B, easier on VRAM |\n| Wan-AI/Wan2.1-T2V-14B | Text-to-Video | Legacy |\n\n## Upgrade\n\n```bash\nserver-setup\n# Select: GPU Services â†’ Video Server â†’ Update\n# Then: GPU Services â†’ Video Server â†’ Configure model\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.1.1 --repo profzeller/local-video-server --title \"v1.1.1 - Default to Image-to-Video\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **Default model changed** to `Wan-AI/Wan2.2-I2V-A14B` \\(Image-to-Video\\)\n- Better for animating images use case\n\n## Upgrade\n\n```bash\nserver-setup\n# Select: GPU Services â†’ Video Server â†’ Update\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release list --repo profzeller/local-chatterbox-server --limit 1)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.0.7 --repo profzeller/local-chatterbox-server --title \"v1.0.7 - Faster inference\" --notes \"$\\(cat <<''EOF''\n## Performance Improvements\n\n- **cudnn.benchmark** - Optimizes CUDA kernels for consistent input sizes\n- **TF32 enabled** - Faster matrix operations on Ampere+ GPUs \\(RTX 30xx/40xx, A-series\\)\n- **torch.compile\\(\\)** - JIT compilation for ~30-50% faster inference \\(first request may be slow as it compiles\\)\n\n## Expected Speedup\n\n- ~30-50% faster generation after first request\n- First request takes longer \\(model compilation\\)\n\n## Upgrade\n\nOn your server:\n```bash\nserver-setup\n# Select: GPU Services â†’ Chatterbox â†’ Update\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release list --repo profzeller/local-ollama-server --limit 1)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.2.0 --repo profzeller/local-ollama-server --title \"v1.2.0 - qwen2.5:14b with 32K context\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **Default model**: `qwen2.5:14b` \\(14B parameters, excellent quality\\)\n- **Context window**: 32,768 tokens \\(32K\\) - uses system RAM for KV cache overflow\n- **Parallel requests**: Reduced to 2 for stability with 14B model\n- **Flash attention**: Enabled for faster inference\n\n## Memory Usage\n\n| Component | VRAM | System RAM |\n|-----------|------|------------|\n| Model weights | ~8GB | - |\n| KV cache \\(32K context\\) | ~4GB | Overflow to RAM |\n| Working memory | ~2GB | - |\n| **Total** | ~14GB | Uses 128GB RAM |\n\n## Upgrade\n\nOn your server:\n```bash\nserver-setup\n# Select: GPU Services â†’ Ollama â†’ Update\n# Then pull the new model:\ndocker exec ollama ollama pull qwen2.5:14b\n```\nEOF\n\\)\")",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" release create v1.7.5 --repo profzeller/p16-server-setup --title \"v1.7.5 - Fix image-based service updates\" --notes \"$\\(cat <<''EOF''\n## Changes\n\n- **Fixed update for image-based services** - Services using Docker images \\(like Ollama\\) now properly pull the latest image when updating\n- Previously only services with Dockerfiles were rebuilt; image-based services were not refreshed\n\n## Affected Services\n\n- Ollama \\(uses `ollama/ollama:latest` image\\)\n- Any other service without a custom Dockerfile\n\n## Upgrade\n\nOn your server:\n```bash\nserver-setup\n# Select: Update server-setup\n```\nEOF\n\\)\")"
    ]
  }
}
